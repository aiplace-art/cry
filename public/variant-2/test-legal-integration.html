<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Legal Integration Test - HypeAI</title>

  <!-- Cookie Consent CSS -->
  <link rel="stylesheet" href="css/cookie-consent.css">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #0a0118 0%, #1E2026 100%);
      color: #FFFFFF;
      padding: 40px 20px;
      min-height: 100vh;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
    }

    h1 {
      font-size: 48px;
      font-weight: 700;
      margin-bottom: 16px;
      background: linear-gradient(135deg, #FFE900 0%, #FFF4A3 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .subtitle {
      font-size: 18px;
      color: #A0A3B1;
      margin-bottom: 48px;
    }

    .test-section {
      background: rgba(30, 32, 38, 0.6);
      border: 1px solid rgba(147, 51, 234, 0.3);
      border-radius: 16px;
      padding: 32px;
      margin-bottom: 32px;
    }

    .test-section h2 {
      font-size: 28px;
      color: #FFE900;
      margin-bottom: 20px;
    }

    .test-section h3 {
      font-size: 20px;
      color: #00E5FF;
      margin-bottom: 16px;
      margin-top: 24px;
    }

    .test-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px;
      background: rgba(255, 255, 255, 0.03);
      border-radius: 8px;
      margin-bottom: 12px;
    }

    .test-item input[type="checkbox"] {
      width: 24px;
      height: 24px;
      accent-color: #FFE900;
    }

    .test-item label {
      font-size: 16px;
      color: #E4E7EB;
      cursor: pointer;
      user-select: none;
    }

    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin-right: 12px;
      margin-top: 12px;
    }

    .btn-primary {
      background: linear-gradient(135deg, #FFE900 0%, #FFA500 100%);
      color: #0a0118;
    }

    .btn-primary:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(255, 215, 0, 0.4);
    }

    .btn-secondary {
      background: transparent;
      border: 2px solid #00E5FF;
      color: #00E5FF;
    }

    .btn-secondary:hover {
      background: rgba(0, 229, 255, 0.1);
      border-color: #FFE900;
      color: #FFE900;
    }

    .btn-danger {
      background: transparent;
      border: 2px solid #ff4444;
      color: #ff4444;
    }

    .btn-danger:hover {
      background: rgba(255, 68, 68, 0.1);
    }

    .status {
      padding: 12px;
      border-radius: 8px;
      margin-top: 16px;
      font-size: 14px;
    }

    .status-success {
      background: rgba(57, 255, 20, 0.1);
      border: 1px solid rgba(57, 255, 20, 0.3);
      color: #39FF14;
    }

    .status-error {
      background: rgba(255, 68, 68, 0.1);
      border: 1px solid rgba(255, 68, 68, 0.3);
      color: #ff4444;
    }

    .status-info {
      background: rgba(0, 229, 255, 0.1);
      border: 1px solid rgba(0, 229, 255, 0.3);
      color: #00E5FF;
    }

    code {
      background: rgba(0, 0, 0, 0.3);
      padding: 2px 8px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      color: #FFE900;
    }

    a {
      color: #00E5FF;
      text-decoration: none;
      border-bottom: 1px solid transparent;
      transition: all 0.3s ease;
    }

    a:hover {
      color: #FFE900;
      border-bottom-color: #FFE900;
    }

    ul {
      margin-left: 24px;
      margin-top: 12px;
    }

    li {
      margin-bottom: 8px;
      color: #A0A3B1;
      line-height: 1.6;
    }

    .footer-links {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-top: 16px;
    }

    .footer-links a {
      font-size: 14px;
    }

    @media (max-width: 768px) {
      h1 {
        font-size: 36px;
      }

      .test-section {
        padding: 20px;
      }
    }
  </style>
</head>
<body>

<div class="container">
  <h1>🧪 Legal Integration Test</h1>
  <p class="subtitle">Test all GDPR + CCPA compliance features</p>

  <!-- Test Section 1: Cookie Consent -->
  <div class="test-section">
    <h2>1. Cookie Consent Banner</h2>
    <p>The cookie consent banner should have appeared when you first loaded this page.</p>

    <h3>Test Actions:</h3>
    <div class="test-item">
      <input type="checkbox" id="test1-1">
      <label for="test1-1">Cookie banner appeared on page load</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test1-2">
      <label for="test1-2">Banner has "Accept All", "Customize", and "Reject All" buttons</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test1-3">
      <label for="test1-3">Clicking "Customize" opens settings modal</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test1-4">
      <label for="test1-4">Settings modal shows 3 cookie categories (Essential, Analytics, Marketing)</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test1-5">
      <label for="test1-5">Essential cookies are always enabled (cannot toggle)</label>
    </div>

    <h3>Manual Tests:</h3>
    <button class="btn btn-secondary" onclick="resetConsent()">Reset Cookie Consent</button>
    <button class="btn btn-secondary" onclick="showSettings()">Open Settings Modal</button>
    <button class="btn btn-primary" onclick="checkConsentStatus()">Check Consent Status</button>

    <div id="consent-status"></div>
  </div>

  <!-- Test Section 2: Footer Legal Links -->
  <div class="test-section">
    <h2>2. Footer Legal Links</h2>
    <p>These links should appear in the footer of all pages (index.html, services.html, twitter-automation.html).</p>

    <h3>Test Links (Open in New Tab):</h3>
    <div class="footer-links">
      <a href="legal/terms-of-service.html" target="_blank">Terms of Service</a>
      <a href="legal/privacy-policy.html" target="_blank">Privacy Policy</a>
      <a href="legal/cookie-policy.html" target="_blank">Cookie Policy</a>
      <a href="legal/acceptable-use.html" target="_blank">Acceptable Use</a>
      <a href="legal/gdpr.html" target="_blank">GDPR Rights</a>
      <a href="legal/privacy-policy.html#ccpa" target="_blank">Do Not Sell My Personal Information (CCPA)</a>
    </div>

    <h3>Checklist:</h3>
    <div class="test-item">
      <input type="checkbox" id="test2-1">
      <label for="test2-1">All legal links are present in footer</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test2-2">
      <label for="test2-2">Links open correctly (no 404 errors)</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test2-3">
      <label for="test2-3">"Do Not Sell" link goes to Privacy Policy #ccpa section</label>
    </div>
  </div>

  <!-- Test Section 3: Consent Checkbox Component -->
  <div class="test-section">
    <h2>3. Consent Checkbox Component</h2>
    <p>Reusable component for forms (registration, purchase, newsletter signup).</p>

    <h3>Demo Component:</h3>
    <iframe
      src="components/consent-checkbox.html"
      style="width: 100%; height: 400px; border: 1px solid rgba(147, 51, 234, 0.3); border-radius: 8px; background: white; margin-top: 16px;"
    ></iframe>

    <h3>Checklist:</h3>
    <div class="test-item">
      <input type="checkbox" id="test3-1">
      <label for="test3-1">All checkboxes are clickable</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test3-2">
      <label for="test3-2">Required checkboxes show validation errors when unchecked</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test3-3">
      <label for="test3-3">Links open in new tabs</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test3-4">
      <label for="test3-4">Component is mobile-responsive</label>
    </div>
  </div>

  <!-- Test Section 4: Browser Compatibility -->
  <div class="test-section">
    <h2>4. Browser Compatibility</h2>
    <p>Test on multiple browsers and devices.</p>

    <h3>Desktop Browsers:</h3>
    <div class="test-item">
      <input type="checkbox" id="test4-1">
      <label for="test4-1">Chrome/Edge (latest)</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test4-2">
      <label for="test4-2">Firefox (latest)</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test4-3">
      <label for="test4-3">Safari (Mac)</label>
    </div>

    <h3>Mobile Browsers:</h3>
    <div class="test-item">
      <input type="checkbox" id="test4-4">
      <label for="test4-4">Mobile Safari (iPhone)</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test4-5">
      <label for="test4-5">Chrome Mobile (Android)</label>
    </div>
  </div>

  <!-- Test Section 5: Accessibility -->
  <div class="test-section">
    <h2>5. Accessibility (WCAG 2.1 AA)</h2>
    <p>Ensure all features are accessible to all users.</p>

    <h3>Checklist:</h3>
    <div class="test-item">
      <input type="checkbox" id="test5-1">
      <label for="test5-1">Keyboard navigation works (Tab, Enter, Space)</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test5-2">
      <label for="test5-2">Focus indicators are visible</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test5-3">
      <label for="test5-3">Screen reader announces labels correctly (test with VoiceOver/NVDA)</label>
    </div>
    <div class="test-item">
      <input type="checkbox" id="test5-4">
      <label for="test5-4">High contrast mode is supported</label>
    </div>
  </div>

  <!-- Test Results Summary -->
  <div class="test-section">
    <h2>📊 Test Results Summary</h2>
    <button class="btn btn-primary" onclick="calculateResults()">Calculate Test Coverage</button>
    <button class="btn btn-danger" onclick="resetTests()">Reset All Tests</button>

    <div id="test-results"></div>
  </div>

  <!-- Documentation Links -->
  <div class="test-section">
    <h2>📚 Documentation</h2>
    <ul>
      <li><strong>Integration Summary:</strong> <code>/docs/LEGAL_INTEGRATION_SUMMARY.md</code></li>
      <li><strong>Component README:</strong> <code>/public/variant-2/components/README.md</code></li>
      <li><strong>Cookie Consent JS:</strong> <code>/public/variant-2/js/cookie-consent.js</code></li>
      <li><strong>Cookie Consent CSS:</strong> <code>/public/variant-2/css/cookie-consent.css</code></li>
    </ul>

    <h3>Live Pages to Test:</h3>
    <div class="footer-links">
      <a href="index.html" target="_blank">index.html</a>
      <a href="services.html" target="_blank">services.html</a>
      <a href="twitter-automation.html" target="_blank">twitter-automation.html</a>
    </div>
  </div>
</div>

<!-- Cookie Consent Script -->
<script src="js/cookie-consent.js"></script>

<!-- Test Scripts -->
<script>
  // Reset cookie consent (for testing)
  function resetConsent() {
    if (window.CookieConsentAPI) {
      window.CookieConsentAPI.resetConsent();
    } else {
      localStorage.removeItem('hypeai_cookie_consent');
      location.reload();
    }
  }

  // Show settings modal
  function showSettings() {
    if (window.CookieConsentAPI) {
      window.CookieConsentAPI.showSettings();
    } else {
      alert('Cookie consent system not loaded yet. Please wait and try again.');
    }
  }

  // Check current consent status
  function checkConsentStatus() {
    const statusDiv = document.getElementById('consent-status');

    if (window.CookieConsentAPI) {
      const settings = window.CookieConsentAPI.getSettings();

      if (settings && settings.timestamp) {
        statusDiv.innerHTML = `
          <div class="status status-success">
            <strong>✅ Consent Given</strong><br>
            Essential: ${settings.essential ? 'Enabled' : 'Disabled'}<br>
            Analytics: ${settings.analytics ? 'Enabled' : 'Disabled'}<br>
            Marketing: ${settings.marketing ? 'Enabled' : 'Disabled'}<br>
            Timestamp: ${new Date(settings.timestamp).toLocaleString()}
          </div>
        `;
      } else {
        statusDiv.innerHTML = `
          <div class="status status-error">
            <strong>❌ No Consent Given</strong><br>
            Cookie banner should have appeared.
          </div>
        `;
      }
    } else {
      statusDiv.innerHTML = `
        <div class="status status-info">
          <strong>⏳ Loading...</strong><br>
          Cookie consent system is still loading. Please wait.
        </div>
      `;
    }
  }

  // Calculate test coverage
  function calculateResults() {
    const allCheckboxes = document.querySelectorAll('input[type="checkbox"][id^="test"]');
    const checkedBoxes = document.querySelectorAll('input[type="checkbox"][id^="test"]:checked');

    const total = allCheckboxes.length;
    const completed = checkedBoxes.length;
    const percentage = ((completed / total) * 100).toFixed(1);

    const resultsDiv = document.getElementById('test-results');
    let statusClass = 'status-error';
    let statusIcon = '❌';
    let statusText = 'Incomplete';

    if (percentage >= 90) {
      statusClass = 'status-success';
      statusIcon = '✅';
      statusText = 'Excellent';
    } else if (percentage >= 70) {
      statusClass = 'status-info';
      statusIcon = '⚠️';
      statusText = 'Good Progress';
    }

    resultsDiv.innerHTML = `
      <div class="status ${statusClass}" style="margin-top: 16px;">
        <strong>${statusIcon} ${statusText}</strong><br>
        Tests Completed: ${completed} / ${total} (${percentage}%)<br>
        ${percentage >= 90 ? '🎉 All tests passed! Ready for production.' : ''}
        ${percentage < 90 ? '🔧 Complete remaining tests before deployment.' : ''}
      </div>
    `;
  }

  // Reset all test checkboxes
  function resetTests() {
    const allCheckboxes = document.querySelectorAll('input[type="checkbox"][id^="test"]');
    allCheckboxes.forEach(checkbox => {
      checkbox.checked = false;
    });

    const resultsDiv = document.getElementById('test-results');
    resultsDiv.innerHTML = `
      <div class="status status-info" style="margin-top: 16px;">
        <strong>🔄 Tests Reset</strong><br>
        All test checkboxes have been cleared.
      </div>
    `;
  }

  // Auto-check consent status on load
  window.addEventListener('load', () => {
    setTimeout(checkConsentStatus, 1000);
  });
</script>

</body>
</html>
