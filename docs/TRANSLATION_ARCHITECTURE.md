# АРХИТЕКТУРА СИСТЕМЫ ПЕРЕВОДОВ

**Дата:** 2025-10-18
**Архитектор:** OMEGA
**Версия:** 1.0

---

## 1. ОБЩАЯ АРХИТЕКТУРА

```
┌─────────────────────────────────────────────────────────────┐
│                     HYPEAI WEBSITE                          │
│                  (index.html + assets)                      │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│              LANGUAGE SWITCHER SYSTEM                       │
│         (language-switcher.js + CSS)                        │
│                                                             │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐     │
│  │  TRANSLATIONS│  │   LANGUAGE   │  │     UI       │     │
│  │     OBJECT   │  │   MANAGER    │  │   SWITCHER   │     │
│  │   (304 keys) │  │              │  │   DROPDOWN   │     │
│  └──────────────┘  └──────────────┘  └──────────────┘     │
│         │                  │                  │             │
│         └──────────────────┴──────────────────┘             │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│                   HTML ELEMENTS                             │
│              (with data-i18n attributes)                    │
│                                                             │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐ ┌──────────┐     │
│  │  Hero    │ │ Services │ │  Agents  │ │  Footer  │     │
│  │ Section  │ │ Section  │ │ Section  │ │ Section  │     │
│  └──────────┘ └──────────┘ └──────────┘ └──────────┘     │
└─────────────────────────────────────────────────────────────┘
```

---

## 2. ТЕКУЩАЯ ПРОБЛЕМА

```
ПРОБЛЕМА: Неполный перевод на русский язык

┌─────────────────────────────────────────────────────────────┐
│              TRANSLATIONS OBJECT                            │
│                                                             │
│  ┌─────────────────────┐  ┌─────────────────────┐         │
│  │   ENGLISH (EN)      │  │   RUSSIAN (RU)      │         │
│  │                     │  │                     │         │
│  │  ✅ nav (7)         │  │  ✅ nav (7)         │         │
│  │  ✅ hero (9)        │  │  ⚠️  hero (3/9)     │  ← 6 отсутствуют
│  │  ✅ stats (4)       │  │  ✅ stats (4)       │         │
│  │  ✅ whySucceed (40) │  │  ❌ whySucceed (2)  │  ← 38 отсутствуют!
│  │  ✅ services (56)   │  │  ❌ services (2)    │  ← 54 отсутствуют!
│  │  ✅ tokenGrowth (6) │  │  ❌ tokenGrowth (0) │  ← 6 отсутствуют!
│  │  ✅ agents (20)     │  │  ❌ agents (0)      │  ← 20 отсутствуют!
│  │  ✅ features (8)    │  │  ❌ features (0)    │  ← 8 отсутствуют!
│  │  ✅ footer (25)     │  │  ⚠️  footer (5/25)  │  ← 20 отсутствуют
│  │  ✅ buttons (4)     │  │  ✅ buttons (4)     │         │
│  │                     │  │                     │         │
│  │  ВСЕГО: 304 ключа  │  │  ВСЕГО: 80 ключей  │         │
│  └─────────────────────┘  └─────────────────────┘         │
│                                                             │
│  Покрытие RU: ~26%  ❌                                      │
│  Требуется: 100%    🎯                                      │
└─────────────────────────────────────────────────────────────┘
```

---

## 3. АРХИТЕКТУРА РЕШЕНИЯ

```
РЕШЕНИЕ: Полный перевод в 3 этапа

┌─────────────────────────────────────────────────────────────┐
│                  ЭТАП 1: TRANSLATION                        │
│                   (TRANSLATOR AGENT)                        │
│                                                             │
│  Вход:                           Выход:                    │
│  ┌──────────────────────┐        ┌──────────────────────┐  │
│  │ MISSING_TRANSLATION_ │   →    │ russian_translations_│  │
│  │ KEYS.md              │        │ complete.json        │  │
│  │                      │        │                      │  │
│  │ - 224 ключа для     │        │ - ВСЕ переводы       │  │
│  │   перевода           │        │ - Структура готова   │  │
│  └──────────────────────┘        └──────────────────────┘  │
│                                                             │
│  Время: 2 часа                                              │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│              ЭТАП 2A: CODE INTEGRATION                      │
│                   (CODER AGENT)                             │
│                                                             │
│  Файл: language-switcher.js                                │
│  ┌──────────────────────────────────────────────┐          │
│  │  БЫЛО:                 СТАЛО:                │          │
│  │  "ru": {               "ru": {               │          │
│  │    "hero": {             "hero": {           │          │
│  │      "title": "..."      "title": "...",     │          │
│  │    }                     "subtitle": "...",  │ ← ДОБАВЛЕНО
│  │  }                       "description":"..."│ ← ДОБАВЛЕНО
│  │                        }                     │          │
│  │                      }                       │          │
│  └──────────────────────────────────────────────┘          │
│                                                             │
│  Добавлено: 224 новых переводов                            │
│  Время: 30 минут                                            │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│              ЭТАП 2B: HTML INTEGRATION                      │
│                   (CODER AGENT)                             │
│                                                             │
│  Файл: index.html                                          │
│  ┌──────────────────────────────────────────────┐          │
│  │  БЫЛО:                                       │          │
│  │  <div class="stat-label">                    │          │
│  │    Total Value Locked (Demo)                 │          │
│  │  </div>                                      │          │
│  │                                              │          │
│  │  СТАЛО:                                      │          │
│  │  <div class="stat-label"                     │          │
│  │       data-i18n="hero.totalvaluelocked"> ←─┐ │ ДОБАВЛЕНО
│  │    Total Value Locked (Demo)               │ │          │
│  │  </div>                                    │ │          │
│  │                                            │ │          │
│  │  Атрибут связывает HTML ──────────────────┘ │          │
│  │  с ключом перевода                          │          │
│  └──────────────────────────────────────────────┘          │
│                                                             │
│  Добавлено: 150+ data-i18n атрибутов                       │
│  Время: 30 минут                                            │
└─────────────────────────────────────────────────────────────┘
                            │
                            ▼
┌─────────────────────────────────────────────────────────────┐
│                  ЭТАП 3: TESTING                            │
│                   (TESTER AGENT)                            │
│                                                             │
│  Процесс:                                                  │
│  1. Открыть сайт в браузере                                │
│  2. Переключить язык на RU                                 │
│  3. Проверить каждую секцию:                               │
│     ✅ Hero - все переведено?                              │
│     ✅ Stats - все переведено?                             │
│     ✅ Why Succeed - все переведено?                       │
│     ✅ Services - все переведено?                          │
│     ✅ Token Growth - все переведено?                      │
│     ✅ AI Agents - все переведено?                         │
│     ✅ Features - все переведено?                          │
│     ✅ Footer - все переведено?                            │
│                                                             │
│  Выход:                                                    │
│  ┌──────────────────────────────────────────────┐          │
│  │  translation_test_report.md                  │          │
│  │                                              │          │
│  │  - Что переведено ✅                         │          │
│  │  - Что НЕ переведено ❌                      │          │
│  │  - Что требует корректировки ⚠️              │          │
│  └──────────────────────────────────────────────┘          │
│                                                             │
│  Время: 30 минут                                            │
└─────────────────────────────────────────────────────────────┘
```

---

## 4. ПОТОК ДАННЫХ (DATA FLOW)

```
┌─────────────────────────────────────────────────────────────┐
│             КАК РАБОТАЕТ СИСТЕМА ПЕРЕВОДОВ                  │
└─────────────────────────────────────────────────────────────┘

1. ЗАГРУЗКА СТРАНИЦЫ
   │
   ├─> Загружается index.html
   ├─> Загружается language-switcher.js
   └─> Инициализируется LanguageManager

2. ОПРЕДЕЛЕНИЕ ЯЗЫКА
   │
   ├─> Проверка localStorage (сохранённый выбор)
   ├─> Проверка navigator.language (язык браузера)
   └─> Установка currentLang = 'en' | 'ru' | 'zh'

3. ПРИМЕНЕНИЕ ПЕРЕВОДОВ
   │
   ├─> Поиск всех элементов с [data-i18n]
   │
   │   Пример:
   │   HTML: <h1 data-i18n="hero.title">Where AI Meets Opportunity</h1>
   │
   │   LanguageManager ищет:
   │   TRANSLATIONS[currentLang]["hero"]["title"]
   │
   │   Если currentLang = 'ru':
   │   → "Где ИИ встречает возможности"
   │
   │   Результат:
   │   <h1>Где ИИ встречает возможности</h1>
   │
   └─> Обновление textContent для каждого элемента

4. ПЕРЕКЛЮЧЕНИЕ ЯЗЫКА
   │
   ├─> Пользователь кликает на язык в dropdown
   ├─> Вызывается switchLanguage('ru')
   ├─> Сохранение в localStorage
   ├─> Повторное применение переводов (шаг 3)
   └─> Обновление UI

5. РЕЗУЛЬТАТ
   │
   └─> Весь сайт на выбранном языке ✅
```

---

## 5. СТРУКТУРА КЛЮЧЕЙ ПЕРЕВОДОВ

```
TRANSLATIONS
├── en (English) ────────────────────────┐
│   ├── nav (7 keys)                     │
│   ├── hero (9 keys)                    │
│   ├── stats (4 keys)                   │
│   ├── whySucceed (40+ keys)            │  304 КЛЮЧА
│   │   └── features                     │  ВСЕГО
│   │       ├── cryptoChecker (8 keys)   │
│   │       ├── aiOracle (6 keys)        │
│   │       ├── b2bRevenue (6 keys)      │
│   │       ├── tokenBurns (3 keys)      │
│   │       ├── staking (3 keys)         │
│   │       └── aiAgents (3 keys)        │
│   ├── services (56+ keys)              │
│   │   ├── security (7 keys)            │
│   │   ├── tokenomicsDesign (7 keys)    │
│   │   ├── development (7 keys)         │
│   │   ├── marketing (7 keys)           │
│   │   ├── community (7 keys)           │
│   │   ├── design (7 keys)              │
│   │   ├── content (7 keys)             │
│   │   └── devops (7 keys)              │
│   ├── tokenGrowth (6 keys)             │
│   ├── agents (20+ keys)                │
│   ├── features (8 keys)                │
│   ├── footer (25+ keys)                │
│   └── buttons (4 keys)                 │
│                                         │
├── ru (Russian) ────────────────────────┤
│   ├── nav (7 keys) ✅                  │
│   ├── hero (3 keys) ⚠️  ← 6 отсутствуют│  80 КЛЮЧЕЙ
│   ├── stats (4 keys) ✅                │  СЕЙЧАС
│   ├── whySucceed (2 keys) ❌           │  (26%)
│   ├── services (2 keys) ❌             │
│   ├── tokenGrowth (0 keys) ❌          │
│   ├── agents (0 keys) ❌               │
│   ├── features (0 keys) ❌             │
│   ├── footer (5 keys) ⚠️               │
│   └── buttons (4 keys) ✅              │
│                                         │
└── zh (Chinese) ────────────────────────┘
    └── ... (304 keys) ✅  (100%)         304 КЛЮЧА
                                          (100%)
```

---

## 6. КРИТИЧЕСКИЕ ЗАВИСИМОСТИ

```
┌─────────────────────────────────────────────────────────────┐
│                 ЗАВИСИМОСТИ КОМПОНЕНТОВ                     │
└─────────────────────────────────────────────────────────────┘

index.html
│
├─> language-switcher.js (КРИТИЧЕСКАЯ ЗАВИСИМОСТЬ)
│   │
│   ├─> TRANSLATIONS object (данные)
│   │   │
│   │   ├─> en: {...} ✅
│   │   ├─> ru: {...} ⚠️  ← ТРЕБУЕТ ОБНОВЛЕНИЯ
│   │   └─> zh: {...} ✅
│   │
│   └─> LanguageManager (логика)
│       │
│       ├─> applyTranslations() ← ищет [data-i18n]
│       ├─> switchLanguage()
│       └─> getNestedTranslation()
│
├─> language-switcher.css (стили)
│   │
│   └─> Стили для dropdown, переходов
│
└─> Элементы HTML с data-i18n атрибутами
    │
    ├─> <h1 data-i18n="hero.title">
    ├─> <p data-i18n="hero.subtitle">
    └─> ... 150+ элементов ← ТРЕБУЮТ data-i18n
```

---

## 7. ТОЧКИ ОТКАЗА И РИСКИ

```
┌─────────────────────────────────────────────────────────────┐
│                   RISK ANALYSIS                             │
└─────────────────────────────────────────────────────────────┘

РИСК 1: Отсутствие ключа перевода
──────────────────────────────────
  Проблема: Элемент с data-i18n="hero.subtitle", но нет RU перевода
  Результат: Текст остаётся на английском
  Решение: Проверить ВСЕ ключи перед релизом ✅

РИСК 2: Опечатка в ключе
──────────────────────────────────
  Проблема: data-i18n="hero.sutitle" (вместо "subtitle")
  Результат: Перевод не применяется
  Решение: Валидация всех ключей TESTER агентом ✅

РИСК 3: Сломанная вёрстка
──────────────────────────────────
  Проблема: Русский текст длиннее английского → переполнение
  Решение: CSS с фиксированными высотами + тестирование ✅

РИСК 4: Потеря эмодзи
──────────────────────────────────
  Проблема: При переводе забыли скопировать эмодзи
  Решение: Всегда копировать эмодзи вместе с текстом ✅

РИСК 5: Несовместимость с мобильной версией
──────────────────────────────────────────────
  Проблема: Работает на desktop, сломано на mobile
  Решение: Тестировать на viewport 375px ✅
```

---

## 8. МЕТРИКИ КАЧЕСТВА

```
┌─────────────────────────────────────────────────────────────┐
│                  QUALITY METRICS                            │
└─────────────────────────────────────────────────────────────┘

ПОКРЫТИЕ ПЕРЕВОДОВ:
───────────────────
  Текущее:  26% (80 / 304 ключей)  ❌
  Целевое:  100% (304 / 304 ключей) ✅

ПОКРЫТИЕ HTML ЭЛЕМЕНТОВ:
────────────────────────
  Текущее:  ~15% (~27 / 180 элементов)  ❌
  Целевое:  100% (180 / 180 элементов)  ✅

ТОЧНОСТЬ ПЕРЕВОДОВ:
───────────────────
  Профессиональный перевод:         100%  ✅
  Консистентная терминология:       100%  ✅
  Сохранение эмодзи:                100%  ✅

ПРОИЗВОДИТЕЛЬНОСТЬ:
───────────────────
  Время загрузки переводов:         < 50ms  ✅
  Время переключения языка:         < 100ms ✅
  Размер language-switcher.js:      < 150KB ✅

СОВМЕСТИМОСТЬ:
──────────────
  Desktop (1920px):                 100%  ✅
  Tablet (768px):                   100%  ✅
  Mobile (375px):                   100%  ✅
  Все браузеры (Chrome, Firefox):   100%  ✅
```

---

## 9. ВРЕМЕННАЯ ШКАЛА ИСПОЛНЕНИЯ

```
┌─────────────────────────────────────────────────────────────┐
│                    EXECUTION TIMELINE                       │
└─────────────────────────────────────────────────────────────┘

09:00 ┌────────────────────────────────────────────────────┐
      │  START: Начало работы                             │
      └────────────────────────────────────────────────────┘
         │
         ▼
09:00 ┌────────────────────────────────────────────────────┐
      │  TRANSLATOR AGENT                                  │
      │  - Читает MISSING_TRANSLATION_KEYS.md              │
      │  - Переводит 224 ключа на русский                 │
      │  - Создаёт russian_translations_complete.json      │
      └────────────────────────────────────────────────────┘
         │
         │  [2 часа]
         │
         ▼
11:00 ┌────────────────────────────────────────────────────┐
      │  CHECKPOINT 1: Переводы готовы                     │
      │  ✅ JSON файл создан и проверен                    │
      └────────────────────────────────────────────────────┘
         │
         ▼
11:00 ┌────────────────────────────────────────────────────┐
      │  CODER AGENT - PHASE A                             │
      │  - Читает russian_translations_complete.json       │
      │  - Добавляет переводы в language-switcher.js       │
      │  - Обновляет объект TRANSLATIONS["ru"]             │
      └────────────────────────────────────────────────────┘
         │
         │  [30 минут]
         │
         ▼
11:30 ┌────────────────────────────────────────────────────┐
      │  CODER AGENT - PHASE B                             │
      │  - Добавляет data-i18n атрибуты в index.html       │
      │  - Обновляет 150+ HTML элементов                   │
      └────────────────────────────────────────────────────┘
         │
         │  [30 минут]
         │
         ▼
12:00 ┌────────────────────────────────────────────────────┐
      │  CHECKPOINT 2: Код готов                           │
      │  ✅ language-switcher.js обновлён                  │
      │  ✅ index.html обновлён                            │
      └────────────────────────────────────────────────────┘
         │
         ▼
12:00 ┌────────────────────────────────────────────────────┐
      │  TESTER AGENT                                      │
      │  - Открывает сайт в браузере                       │
      │  - Переключает язык на RU                          │
      │  - Проверяет все секции                            │
      │  - Создаёт отчёт translation_test_report.md        │
      └────────────────────────────────────────────────────┘
         │
         │  [30 минут]
         │
         ▼
12:30 ┌────────────────────────────────────────────────────┐
      │  CHECKPOINT 3: Тестирование завершено              │
      │  ✅ Отчёт создан                                   │
      │  ⚠️  Найденные проблемы документированы            │
      └────────────────────────────────────────────────────┘
         │
         ▼
12:30 ┌────────────────────────────────────────────────────┐
      │  FIXES & FINAL REVIEW                              │
      │  - Исправление найденных багов                     │
      │  - Финальная проверка качества                     │
      │  - Проверка мобильной версии                       │
      └────────────────────────────────────────────────────┘
         │
         │  [30 минут]
         │
         ▼
13:00 ┌────────────────────────────────────────────────────┐
      │  ✅ MISSION COMPLETE                               │
      │  - 100% переводов готовы                           │
      │  - Все тесты пройдены                              │
      │  - Готов к деплою                                  │
      └────────────────────────────────────────────────────┘

ИТОГО: 4 часа от начала до полного завершения
```

---

## 10. ФИНАЛЬНАЯ ПРОВЕРКА (CHECKLIST)

```
┌─────────────────────────────────────────────────────────────┐
│                  FINAL DEPLOYMENT CHECKLIST                 │
└─────────────────────────────────────────────────────────────┘

ПЕРЕВОДЫ:
─────────
  [ ] Все 304 ключа переведены в language-switcher.js
  [ ] Нет пустых строк ("": "") в русских переводах
  [ ] Все эмодзи скопированы корректно
  [ ] Терминология консистентна (AI→ИИ, Token→Токен)

HTML:
─────
  [ ] Все 150+ элементов имеют data-i18n атрибуты
  [ ] Нет опечаток в ключах (hero.title, не heto.title)
  [ ] Все ссылки на ключи корректные

ФУНКЦИОНАЛЬНОСТЬ:
─────────────────
  [ ] Переключение EN → RU работает
  [ ] Переключение RU → EN работает
  [ ] Dropdown показывает текущий язык
  [ ] localStorage сохраняет выбор

ВИЗУАЛЬНАЯ ПРОВЕРКА:
────────────────────
  [ ] Hero секция - нет английских текстов
  [ ] Stats - нет английских текстов
  [ ] Why Succeed (6 карточек) - нет английских текстов
  [ ] Services (8 карточек) - нет английских текстов
  [ ] Token Growth - нет английских текстов
  [ ] AI Agents - нет английских текстов
  [ ] Features - нет английских текстов
  [ ] Footer - нет английских текстов

ВЁРСТКА:
────────
  [ ] Текст не переполняется
  [ ] Кнопки корректного размера
  [ ] Карточки не сломаны
  [ ] Отступы сохранены

МОБИЛЬНАЯ ВЕРСИЯ:
─────────────────
  [ ] iPhone (375px) - всё работает
  [ ] iPad (768px) - всё работает
  [ ] Landscape mode - всё работает

КРОСС-БРАУЗЕРНОСТЬ:
───────────────────
  [ ] Chrome - всё работает
  [ ] Firefox - всё работает
  [ ] Safari - всё работает
  [ ] Edge - всё работает

ПРОИЗВОДИТЕЛЬНОСТЬ:
───────────────────
  [ ] Загрузка < 3 секунд
  [ ] Переключение языка мгновенное
  [ ] Нет задержек UI

ДОКУМЕНТАЦИЯ:
─────────────
  [ ] README обновлён (если нужно)
  [ ] Комментарии в коде актуальны
  [ ] Git commit message описательный

════════════════════════════════════════════════════════════════

✅ ЕСЛИ ВСЁ ОТМЕЧЕНО → ГОТОВ К ДЕПЛОЮ

════════════════════════════════════════════════════════════════
```

---

**КОНЕЦ АРХИТЕКТУРНОГО ДОКУМЕНТА**

**Архитектор:** OMEGA
**Дата:** 2025-10-18
**Статус:** УТВЕРЖДЁН - ГОТОВ К ИСПОЛНЕНИЮ
